#include<stdio.h>
#include<stdlib.h>

void imprimir(int **mat, int lin, int col){
    for(int i = 0; i < lin; i++){
        for(int j = 0; j < col; j++){
            printf("%d ", mat[i][j]);
        }
        printf("\n");
    }
}

void preencher(int **mat, int lin, int col){
    for(int i = 0; i < lin; i++){
        for(int j = 0; j < col; j++){
            mat[i][j] = 0;
        }
    }
}
void livra (int **mat, int lin, int col){
    for(int i = 0; i < lin; i++){
        free(mat[i]);
    }
    free(mat);
}

/*void multiplica(int **mat1, int lin1, int col1, int **mat2, int lin2, int col2, int **mat3){
    for(int i = 0; i < lin1; i++){
        for(int j = 0; j < col2; j++){
            for(int k = 0; k < lin2; k++){
                mat3[i][j] += (mat1[i][k] * mat2[k][j]);
            }
        }
    }
}*/

void multiplica(int **mat1, int **mat2, int **mat3, int i, int j, int k){
    if(i >= 3){ //quando acaba a matriz
        return;
    }
    if(j < 3){ 
        if(k < 3){
            mat3[i][j] += (mat1[i][k] * mat2[k][j]);
            multiplica(mat1, mat2, mat3, i, j, k+1);
        }else{ //avanca a coluna
            multiplica(mat1, mat2, mat3, i, j+1, 0);
        }
    }else{ //avanca a linha
        multiplica(mat1, mat2, mat3, i+1, 0, 0);
    }
}

int main(){
    int lin = 3, col=4;
    int **mat;
    mat = (int **)malloc(lin * sizeof(int*));
    for(int i=0; i < lin; i++){
        mat[i] = (int *)malloc(col * sizeof(int));
    }
    preencher(mat, lin, col);
    imprimir(mat, lin, col);
    livra(mat, lin, col);
}
